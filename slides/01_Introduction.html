<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/pagedtable/css/pagedtable.css" rel="stylesheet" />
    <script src="libs/pagedtable/js/pagedtable.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction

---





layout: true
  
&lt;div class="dk-footer"&gt;
&lt;span&gt;
&lt;a href="https://rfortherestofus.com/" target="_blank"&gt;R for the Rest of Us
&lt;/a&gt;
&lt;/span&gt;
&lt;/div&gt; 

---











class: center, middle, dk-section-title
background-image:url("images/gawn-australia-_OUvt8kLf0s-unsplash.jpg")
background-size: cover
# What is Data Cleaning?

???
Hello and welcome to the Data Cleaning in R course.
Before we begin, let's define Data Cleaning. The following are some common definitions that I found online and paraphrased.
---

class: center, middle

&gt;.large["Mechanistic, time consuming process of identifying and fixing incomplete, inaccurate, irrelevant, or duplicated data"]

???
A popular definition describes data cleaning as a:
--

&gt;.large["Tedious tasks that get in the way of extracting true value and insights from data"]

???
Others mention a series of
--

&gt; .large["Not difficult, not _real_ work. Done (grudgingly) before the main analyses"]

???
and some say it is:
---

class: center, middle

&gt;.large["~~.gray[Mechanistic, time consuming]~~ process of identifying and _fixing_ incomplete, inaccurate, irrelevant, or duplicated data"]

&gt;.large["~~.gray[Tedious tasks that get in the way of]~~ extracting true value and insights from data"]

&gt; .large["~~.gray[Not difficult, not _real_ work. Done (grudgingly) before the main analyses"]~~]

???
I'd like to refute most of that. Data cleaning indeed involves fixing issues with our data to make it more usable and helpful, it is real work, and it is not a trivial process.
---

## Data cleaning:

.large[
A spectrum of **reusable data transformations**  to make data **usable** and to obtain more meaningful results from our analysis or visualization methods.] 

???

Let's try again. We can define data cleaning as a spectrum of data transformation steps to make data usable and to obtain more meaningful results from our analysis or visualization methods.

--

.large[
Has no single end product, because different systems and methods consume different input data formats and structures.] 

???

There is no one particular end product when we're cleaning data, because different programs take different inputs and we need to adjust our approach for each one. Still, clean data has certain things in common that we will be discussing throughout this course.  

---

## Cleaning data involves:

???
When we need to clean some data, these are the three main steps in the process.

--

.large[
**1\.** Identifying specific **issues** that hinder an analysis, visualization, or reporting workflow.]  

--

.large[
**2\.** Determining which approach or tool is needed to address each issue.] 

--
.large[
**3\.** Transforming the data, making them more appropriate and valuable for a variety of downstream purposes.
]

---

## Common Issues

.fl.w-50[

- Non-rectangular data  
- Unusable variable names
- Whitespace 
- Inconsistent letter case  
- Missing/implicit/misplaced grouping variables
]

.fl.w-50[
- Compound values  
- Duplicated values  
- Broken values  
- Empty rows and columns  
- Numbers stored as text  
]

???
Most of the existing definitions of data cleaning mention fixing issues with the data, but these issues are often mentioned without descriptions. I have tried to collect and describe the most common issues here.
Data in the real world can have none, or many of these issues that make it less usable. These are listed here for reference, and we will deal with all of them in another section of this course.
---

## Why data cleaning

???
We often need to clean our data simply to get our software to read the data and behave as we expect it to.

--
.large[
- Enables downstream tasks by making data readable &amp; usable  
]
--
.large[
- Saves time (rows and columns in a data object ready for use)  
]
???
having clean data saves time, for example. by having rows and colums on which we can immediately perform operations.
--
.large[
- Avoid potentially costly delays, or misinterpretations
]

???
After that, clean data is important to avoid delays, biases, or misinterpretations.

---

## Why data cleaning in R

???
Why should we use R for data cleaning.

Because, by working with code and not interactively with pointing and clicking, we leave a record of our actions and can run it again whenever we want.
--
.large[
- Document and reproduce the process  
]
--
.large[
- Less time editing manually  
]
???
with R, we can work on large files or with many files at once, which saves us time and might not even be feasible if done by hand.
--
.large[
- Purpose-built tools available and well documented
]
???
One of the main reasons for I like R so much for data cleaning is because there are a number of tools and packages built specifically for cleaning data, which have good documentation and a large community of helpful users.
--
.large[
- Code can be reproduced and repurposed
] 
???
Finally, the code we write can be run many times and repurposed for new projects.
---
class: center, middle

# Examples

???
Now, let me show you some examples of what can happen when we don't clean our data.
---
class: middle, center

&lt;img src="images/drugs.png" width="96%" /&gt;

???
This graph is entirely fictional, but it is based on a real one I saw on an internal dashboard used by a pharmaceutical company. This chart shows drug sales in a year, taller bars mean more sales and the bars are ordered in decreasing value. If an executive is simply interested in knowing which was the top selling drug that year, this plot can be misleading. 

Why is that?

Well, there are minor variations in how the drug names were stored in the original data, and this issue made it onto a final product. Look at the labels. There are two drugs with duplicate entries because the plotting software does not realize that a name with underscores between names should be the same as a name with spaces. Same with two drugs that vary in letter case, one is in all upper case.

In this situation, the top-selling drug is not the one the chart is showing, so this is misleading. This looks obvious, but these kinds of issues are common and they can go unnoticed if we are working, for example with many years worth of data for hundreds of drugs.

---
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xvojkvwbes .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 28px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xvojkvwbes .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xvojkvwbes .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xvojkvwbes .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xvojkvwbes .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xvojkvwbes .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xvojkvwbes .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xvojkvwbes .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xvojkvwbes .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xvojkvwbes .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xvojkvwbes .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xvojkvwbes .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xvojkvwbes .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xvojkvwbes .gt_from_md > :first-child {
  margin-top: 0;
}

#xvojkvwbes .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xvojkvwbes .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xvojkvwbes .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xvojkvwbes .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xvojkvwbes .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xvojkvwbes .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xvojkvwbes .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xvojkvwbes .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xvojkvwbes .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xvojkvwbes .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xvojkvwbes .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xvojkvwbes .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xvojkvwbes .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xvojkvwbes .gt_left {
  text-align: left;
}

#xvojkvwbes .gt_center {
  text-align: center;
}

#xvojkvwbes .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xvojkvwbes .gt_font_normal {
  font-weight: normal;
}

#xvojkvwbes .gt_font_bold {
  font-weight: bold;
}

#xvojkvwbes .gt_font_italic {
  font-style: italic;
}

#xvojkvwbes .gt_super {
  font-size: 65%;
}

#xvojkvwbes .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xvojkvwbes" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>Faculty Productivity Bonuses</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>2020 - School of Engineering</th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Researcher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Publications<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">James Wilson</td>
<td class="gt_row gt_left">19 $$$</td></tr>
    <tr><td class="gt_row gt_left">Colt Whitman</td>
<td class="gt_row gt_left">18*</td></tr>
    <tr><td class="gt_row gt_left">Jane Allen</td>
<td class="gt_row gt_left">17*</td></tr>
    <tr><td class="gt_row gt_left">Maria Dias</td>
<td class="gt_row gt_left">14</td></tr>
    <tr><td class="gt_row gt_left">Dr. Deavan Smith</td>
<td class="gt_row gt_left">9</td></tr>
    <tr><td class="gt_row gt_left">Angie Ramirez</td>
<td class="gt_row gt_left">7</td></tr>
    <tr><td class="gt_row gt_left">Ellen Dice</td>
<td class="gt_row gt_left">5</td></tr>
    <tr><td class="gt_row gt_left">Dr. Jane Allen</td>
<td class="gt_row gt_left">4</td></tr>
  </tbody>
  
  <tfoot>
    <tr class="gt_footnotes">
      <td colspan="2">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks">
            <em>1</em>
          </sup>
           
          <strong>$$$</strong>  Award winner, <strong>*</strong>  Honorable mention
          <br />
        </p>
      </td>
    </tr>
  </tfoot>
</table></div>

???
This other example is also fictional, but it is based on a report used at a university to award the most productive faculty member each year with a cash bonus. This is a simplified made up version, but it is another good example of the consequences of not cleaning data before making calculations.

Here, the same faculty members appears twice in the data, because for whatever reason some entries include  titles while the rest of the entries do not. This is also a simple fix, which could have avoided the administrative hassle and embarrassment of amending the award after it had already been paid to the wrong person. 

---

class: middle, center

&lt;img src="images/fishlandings.png" width="100%" /&gt;

.small[Source: [Kenya Ministry of Agriculture, Livestock and Fisheries](https://africaopendata.org/organization/kenya-ministry-of-agriculture-livestock-and-fisheries)]

??? 
This next example is real data, describing fisheries data for a lake in Kenya in 2016. There are no mistakes in the values, but the data are structured in a way that makes sense to humans but is harder to feed into any analysis. 

If we had to restructure multiple files with this complicated structure, say, for many lakes and many years, the process can become time consuming. Fortunately, we can do this more efficiently in R, and will do so in a later lesson.

---

&lt;/br&gt;
.left[
&lt;img src="images/tymp.png" width="100%" /&gt;
]

.small[Source: Ojeda _et al._ [(1999)](https://doi.org/10.1006/jare.1999.0496)]

???
This next example is a table from a scientific publication. A lot of information is being presented here and if we were to try and import the contents of this table into our analysis software, we would most likely run into some trouble. 

Again, nothing is inherently wrong with this table, but sometimes we might be forced to import and work with these kinds of data sources
---

<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cymnhrtiuq .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cymnhrtiuq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cymnhrtiuq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cymnhrtiuq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cymnhrtiuq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cymnhrtiuq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cymnhrtiuq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cymnhrtiuq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cymnhrtiuq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cymnhrtiuq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cymnhrtiuq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cymnhrtiuq .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cymnhrtiuq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cymnhrtiuq .gt_from_md > :first-child {
  margin-top: 0;
}

#cymnhrtiuq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cymnhrtiuq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cymnhrtiuq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cymnhrtiuq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cymnhrtiuq .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cymnhrtiuq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cymnhrtiuq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cymnhrtiuq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cymnhrtiuq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cymnhrtiuq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cymnhrtiuq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cymnhrtiuq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cymnhrtiuq .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cymnhrtiuq .gt_left {
  text-align: left;
}

#cymnhrtiuq .gt_center {
  text-align: center;
}

#cymnhrtiuq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cymnhrtiuq .gt_font_normal {
  font-weight: normal;
}

#cymnhrtiuq .gt_font_bold {
  font-weight: bold;
}

#cymnhrtiuq .gt_font_italic {
  font-style: italic;
}

#cymnhrtiuq .gt_super {
  font-size: 65%;
}

#cymnhrtiuq .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="cymnhrtiuq" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-size: 18px;">mfr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-size: 18px;">model</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-size: 18px;">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-size: 18px;">bdy_style</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-size: 18px;">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-size: 18px;">trq</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <td colspan="6" class="gt_group_heading">Germany</td>
    </tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Audi</td>
<td class="gt_row gt_left" style="font-size: 18px;">R8</td>
<td class="gt_row gt_right" style="font-size: 18px;">2015</td>
<td class="gt_row gt_left" style="font-size: 18px;">coupe</td>
<td class="gt_row gt_right" style="font-size: 18px;">430</td>
<td class="gt_row gt_right" style="font-size: 18px;">317</td></tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Porsche</td>
<td class="gt_row gt_left" style="font-size: 18px;">911</td>
<td class="gt_row gt_right" style="font-size: 18px;">2016</td>
<td class="gt_row gt_left" style="font-size: 18px;">coupe</td>
<td class="gt_row gt_right" style="font-size: 18px;">350</td>
<td class="gt_row gt_right" style="font-size: 18px;">287</td></tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Mercedes-Benz</td>
<td class="gt_row gt_left" style="font-size: 18px;">AMG GT</td>
<td class="gt_row gt_right" style="font-size: 18px;">2016</td>
<td class="gt_row gt_left" style="font-size: 18px;">coupe</td>
<td class="gt_row gt_right" style="font-size: 18px;">503</td>
<td class="gt_row gt_right" style="font-size: 18px;">479</td></tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Audi</td>
<td class="gt_row gt_left" style="font-size: 18px;">S6</td>
<td class="gt_row gt_right" style="font-size: 18px;">2016</td>
<td class="gt_row gt_left" style="font-size: 18px;">sedan</td>
<td class="gt_row gt_right" style="font-size: 18px;">450</td>
<td class="gt_row gt_right" style="font-size: 18px;">406</td></tr>
    <tr class="gt_group_heading_row">
      <td colspan="6" class="gt_group_heading">Italy</td>
    </tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Ferrari</td>
<td class="gt_row gt_left" style="font-size: 18px;">458 Spider</td>
<td class="gt_row gt_right" style="font-size: 18px;">2015</td>
<td class="gt_row gt_left" style="font-size: 18px;">convertible</td>
<td class="gt_row gt_right" style="font-size: 18px;">562</td>
<td class="gt_row gt_right" style="font-size: 18px;">398</td></tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Ferrari</td>
<td class="gt_row gt_left" style="font-size: 18px;">LaFerrari</td>
<td class="gt_row gt_right" style="font-size: 18px;">2015</td>
<td class="gt_row gt_left" style="font-size: 18px;">coupe</td>
<td class="gt_row gt_right" style="font-size: 18px;">949</td>
<td class="gt_row gt_right" style="font-size: 18px;">664</td></tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Maserati</td>
<td class="gt_row gt_left" style="font-size: 18px;">Ghibli</td>
<td class="gt_row gt_right" style="font-size: 18px;">2016</td>
<td class="gt_row gt_left" style="font-size: 18px;">sedan</td>
<td class="gt_row gt_right" style="font-size: 18px;">345</td>
<td class="gt_row gt_right" style="font-size: 18px;">369</td></tr>
    <tr><td class="gt_row gt_left" style="font-size: 18px;">Maserati</td>
<td class="gt_row gt_left" style="font-size: 18px;">Quattroporte</td>
<td class="gt_row gt_right" style="font-size: 18px;">2016</td>
<td class="gt_row gt_left" style="font-size: 18px;">sedan</td>
<td class="gt_row gt_right" style="font-size: 18px;">404</td>
<td class="gt_row gt_right" style="font-size: 18px;">406</td></tr>
  </tbody>
  
  
</table></div>

.small[source: `gt:gtcars` Luxury Automobiles Dataset]

???

This last example describes some fancy cars. Things are OK for the most part, but notice these rows that group the cars by their country of their manufacturer. This is informative and readable, but not ideal from an analysis perspective, and we will see why later on in the course.


These were just some examples, but hopefully you were able to recognize some of the more common issue in the data and relate them to things you may have seen in your own work.

---
class: inverse

## Your turn

1. Read this short blog [post](https://www.johndcook.com/blog/2021/01/12/data-pathology/) by John D. Cook.
.center[https://www.johndcook.com/blog/2021/01/12/data-pathology/]

2. Reflect on the amount (if any) of data cleaning you perform for your day-to-day work.

---

class: center, middle, dk-section-title
background-image:url("images/willian-justen-de-vasconcellos-JJEQ1SQhkEg-unsplash.jpg")
background-size: cover
# Data Cleaning is Analysis

---

### When we clean data, we make judgements and interpretations

- Are the data in a usable structure?

--

- What constitutes 'unwanted' variation?

--

- Is there any implicit information that needs to made explicit?

--

- What to do about missing data. 

---

class: inverse
## Your Turn

*quiz image goes here

---
class: center, middle

.large[After identifying issues in our data, we decide which tool is best suited to address them.]

--

## This is also data analysis.

--

&gt;.large[Data cleaning is an important stage in most data analyses, not a single-use task of lesser importance.]

---

class: center, middle, dk-section-title
background-image:url("images/endri-killo-tvWqbeOaJnw-unsplash.jpg")
background-size: cover
# The Data Cleaning Process

---

class: middle, center

&lt;img src="images/workflow.png" width="110%" /&gt;

---
class: center, middle, dk-section-title
background-image:url("images/bence-boros-l3_9j916sh0-unsplash.jpg")
background-size: cover
# Course Logistics

---

## Requirements and Prerequisites
### You: 

- are familiar with basic data types and objects in R  

- can use functions and arguments  

- have R and RStudio running  

- can install and load packages


---

## Course conventions

- All packages available on **CRAN** (can be installed with .orange[`install.packages()`])   

--

- All slides are available in html format

--

- Package names in .b.rrured[red], preceded by ðŸ“¦  

--

- Functions and operators in .b.orange[orange]  

--

- Relevant example data is provided in slides (see '**data-setup**' panels)  


---

# My setup

- R v4.0.3  

- RStudio v1.4.1103  

- Default theme and pane layout  

- Linux Mint 20.1

---

## Course setup


**1\.** Create a new RStudio project on your computer


**2\.** Download course materials (data needed for "your turn" exercises) with 
ðŸ“¦ .b.rrured[`usethis`]



```r
install.packages("usethis") # Install first if necessary
usethis::use_course("FINALURLHERE") # Download course materials 
```

**3\.** Copy the downloaded materials to the folder containing the RStudio project you created for this course. 


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
